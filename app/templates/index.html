{% extends "base.html" %}

{% block title %}ParkUPB - HartÄƒ ParcÄƒri{% endblock %}

{% block content %}
<div class="app-container">
    <div class="map-section">
        <div id="map" class="map-container">
            <div class="map-placeholder">
                <div class="placeholder-content">
                    <h2>ğŸ—ºï¸ Harta ParcÄƒrilor UPB</h2>
                    <p>Harta va fi afiÈ™atÄƒ aici</p>
                    <small>Task 7: Implementare hartÄƒ Leaflet</small>
                </div>
            </div>
        </div>
    </div>

    <!-- Sidebar Section (Right side - info panel) -->
    <aside class="sidebar">
        <!-- User Info Section - aratÄƒ doar dacÄƒ e logat -->
        {% if current_user.is_authenticated %}
        <section class="sidebar-section">
            <div class="section-header">
                <h3>ğŸ‘¤ Cont utilizator</h3>
            </div>
            <div class="section-content">
                <div class="user-info-card">
                    <p><strong>{{ current_user.full_name }}</strong></p>
                    <p class="text-muted">{{ current_user.email }}</p>
                    <p class="user-role"><span class="badge badge-primary">{{ current_user.role }}</span></p>
                </div>
            </div>
        </section>
        {% endif %}

        <!-- Filters Section -->
        <section class="sidebar-section">
            <div class="section-header">
                <h3>ğŸ” Filtre</h3>
            </div>
            <div class="section-content">
                <div class="filter-group">
                    <label for="filter-parking-lot" class="form-label">Parcare:</label>
                    <select id="filter-parking-lot" class="form-control" onchange="applyFilters()">
                        <option value="">Toate parcÄƒrile</option>
                    </select>
                </div>
                
                <div class="filter-group">
                    <label for="filter-status" class="form-label">Status:</label>
                    <select id="filter-status" class="form-control" onchange="applyFilters()">
                        <option value="">Toate locurile</option>
                        <option value="free">ğŸŸ¢ Libere</option>
                        <option value="occupied">ğŸ”´ Ocupate</option>
                        <option value="reserved">ğŸŸ¡ Rezervate</option>
                    </select>
                </div>
                
                <button class="btn btn-secondary btn-block" onclick="resetFilters()">
                    â†º ReseteazÄƒ filtre
                </button>
                
                <div class="filter-stats">
                    <small id="spots-count">Locuri afiÈ™ate: 0</small>
                </div>
            </div>
        </section>

        <!-- Current Reservation Section -->
        <section class="sidebar-section">
            <div class="section-header">
                <h3>ğŸš— Rezervarea curentÄƒ</h3>
            </div>
            <div class="section-content">
                <!-- TODO: Task 9 - Reservation logic -->
                <div class="no-reservation">
                    <p>Nu ai nicio rezervare activÄƒ</p>
                    <small>Task 9: Implementare rezervare</small>
                </div>
            </div>
        </section>

        <!-- Past Reservations Section -->
        <section class="sidebar-section">
            <div class="section-header">
                <h3>ğŸ“‹ Istoric rezervÄƒri</h3>
            </div>
            <div class="section-content">
                <!-- TODO: Task 10 - Past reservations -->
                <div class="empty-state">
                    <p>Nu ai rezervÄƒri anterioare</p>
                    <small>Task 10: Implementare istoric</small>
                </div>
            </div>
        </section>
    </aside>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/map.js') }}"></script>
<script src="{{ url_for('static', filename='js/auth.js') }}"></script>
{% endblock %}